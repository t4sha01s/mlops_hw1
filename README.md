## Состав группы
1) Семина Наталья (отвечала за REST API и Streamlit дашборд)
2) Серикова Светлана (отвечала за gRPC сервис и ML)

## Быстрый старт

### 1. Запуск сервисов
```bash
chmod +x run_services.sh
./run_services.sh
```
### 2. Тестирование gRPC
```bash
python grpc_client_test.py
```

После выполнения вы увидите, что все методы gRPC успешно отработали:
- HealthCheck - проверка статуса сервиса
- GetModelClasses - получение списка доступных моделей
- TrainModel - обучение модели на тестовых данных
- ListModels - вывод списка обученных моделей
- GetModel - получение информации о модели
- Predict - выполнение предсказаний
- GetMetrics - получение метрик модели
- RetrainModel - переобучение модели
- DeleteModel - удаление модели

## Архитектура сервиса

### REST API (порт 5000) - Публичный интерфейс
- Публичный интерфейс с OAuth аутентификацией через GitHub.
- Swagger документация доступна на `http://localhost:5000`.
- Предназначен для внешних клиентов и веб-интерфейсов.
  
### gRPC API (порт `50051`)
- Внутренний интерфейс — без аутентификации.
- Предназначен для внутренних сервисов / тестов.
- Клиентский скрипт: `python grpc_client_test.py`.

### Интерактивный дашборд на основe Streamlit  (порт: 8501)
- Визуальный интерфейс для работы с моделями
- Запуск: `streamlit run dashboard.py`

### Одновременный запуск
В репозитории есть скрипт `run_services.sh`, который запускает REST, gRPC и Streamlit серверы параллельно в фоне.

## Аутентификация
### GitHub OAuth в REST API
Для доступа к REST API требуется аутентификация через GitHub:
1. При первом обращении перенаправляет на GitHub OAuth (если не были автоматически перенаправлены, добавить /login к текущему адресу)
2. После успешной аутентификации возвращает на сервис
3. Сессия сохраняется для последующих запросов

## Содержание репозитория 
### Логика сервиса
- `app.py` — Flask REST API + Swagger + GitHub OAuth. Основные REST-эндпоинты: тренировка, предсказание, список моделей, переобучение, удаление, метрики, проверка здоровья.
- `models.py` — логика моделей, доступные классы (в текущей реализации `RandomForestClassifier`, `LogisticRegression`), работа с БД (SQLAlchemy), helper-ы (`create_model_record`, `get_model_path`, `convert_params`, `calculate_metrics`).
- `app.proto` — описание gRPC API 
- `app_pb2.py`, `app_pb2_grpc.py` — сгенерированные файлы protobuf 
- `grpc_server.py` — реализация gRPC сервиса (использует те же функции/модели из `models.py`).
- `generate_proto.sh` — скрипт для генерации python protobuf-файлов
- `dashboard.py`  — реализация интерактивного дашборда на основе Streamlit
### Тестирование:
- `grpc_client_test.py` — пример клиента для проверки gRPC-интерфейса
- `test_flask_api.sh` — простой bash-скрипт для базового тестирования REST API.
### Запуск
- `run_services.sh` — (предлагаемый) скрипт для одновременного запуска REST и gRP
